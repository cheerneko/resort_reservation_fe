{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/nornmai_resort_fe/src/components/RegisComponent.js\";\n// function component\nimport { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RegisComponent extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.state = {\n      \"email\": \"\",\n      \"password\": \"\",\n      \"phone\": \"\",\n      \"dob\": \"\",\n      \"firstname\": \"\",\n      \"lastname\": \"\",\n      \"gender\": \"\",\n      \"error\": \"\"\n    };\n    this.register = this.register.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n  }\n\n  componentDidMount() {\n    this.loginStorage = JSON.parse(localStorage.getItem('login'));\n    this.loginAdminStorage = JSON.parse(localStorage.getItem('login-admin'));\n    if (this.loginStorage != null || this.loginAdminStorage != null) window.location.href = \"/\";\n  }\n\n  register(e) {\n    e.preventDefault();\n    const mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{5,})\");\n    console.log(this.state.password);\n    console.log(mediumRegex.test(this.state.password));\n\n    if (mediumRegex.test(this.state.password)) {\n      let raw = JSON.stringify({\n        \"password\": this.state.password,\n        \"firstname\": this.state.firstname,\n        \"lastname\": this.state.lastname,\n        \"gender\": this.state.gender,\n        \"email\": this.state.email,\n        \"phone\": this.state.phone,\n        \"dob\": this.state.dob\n      });\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: raw\n      };\n      fetch('http://localhost:3001/signup', requestOptions).then(response => response.json()).then(data => {\n        alert('สมัครสมาชิกสำเร็จ');\n        window.location.href = \"/login\";\n      }).catch(error => {\n        console.error('There was an error!', error);\n        alert('เกิดข้อผิดพลาดในการเพิ่มข้อมูล');\n      });\n    } else {\n      this.setState({\n        \"error\": \"password should be contains at least 1 uppercase and lowercase letter and least 1 number Length more than 5\"\n      });\n    }\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n    this.setState({\n      \"error\": \"\"\n    });\n  }\n\n  handleChangePhone(e) {\n    const re = /^[0][0-9\\b]*$/;\n    const {\n      name,\n      value\n    } = e.target;\n\n    if (value === '' || re.test(value)) {\n      this.setState({\n        [name]: value\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-div\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"centered\",\n        children: \"Welcome to our hotel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default RegisComponent;","map":{"version":3,"names":["Component","RegisComponent","constructor","state","register","bind","handleChange","handleChangePhone","componentDidMount","loginStorage","JSON","parse","localStorage","getItem","loginAdminStorage","window","location","href","e","preventDefault","mediumRegex","RegExp","console","log","password","test","raw","stringify","firstname","lastname","gender","email","phone","dob","requestOptions","method","headers","body","fetch","then","response","json","data","alert","catch","error","setState","name","value","target","re","render"],"sources":["/Users/macbookpro/nornmai_resort_fe/src/components/RegisComponent.js"],"sourcesContent":["// function component\nimport { Component } from \"react\"\n\n\nclass RegisComponent extends Component {\n    state = {}\n    constructor(){\n        super();\n        this.state = {\n            \"email\": \"\",\n            \"password\": \"\",\n            \"phone\": \"\",\n            \"dob\": \"\",\n            \"firstname\": \"\",\n            \"lastname\": \"\",\n            \"gender\": \"\",\n            \"error\": \"\"\n        }\n        this.register = this.register.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleChangePhone = this.handleChangePhone.bind(this);\n    }\n    componentDidMount() {\n        this.loginStorage = JSON.parse(localStorage.getItem('login'));\n        this.loginAdminStorage = JSON.parse(localStorage.getItem('login-admin'));\n        if (this.loginStorage != null || this.loginAdminStorage != null)\n            window.location.href = \"/\";\n    }\n\n    register(e) {\n        e.preventDefault();\n        const mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{5,})\");\n        console.log(this.state.password)\n        console.log(mediumRegex.test(this.state.password))\n        if (mediumRegex.test(this.state.password)) {\n            let raw = JSON.stringify({\n                \"password\": this.state.password,\n                \"firstname\": this.state.firstname,\n                \"lastname\": this.state.lastname,\n                \"gender\": this.state.gender,\n                \"email\": this.state.email,\n                \"phone\": this.state.phone,\n                \"dob\": this.state.dob\n            });\n\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: raw\n            };\n\n            fetch('http://localhost:3001/signup', requestOptions)\n                .then(response => response.json())\n                .then(data => {\n                    alert('สมัครสมาชิกสำเร็จ');\n                    window.location.href = \"/login\";\n                })\n                .catch(error => {\n                    console.error('There was an error!', error);\n                    alert('เกิดข้อผิดพลาดในการเพิ่มข้อมูล');\n                });\n        } else {\n            this.setState({ \"error\": \"password should be contains at least 1 uppercase and lowercase letter and least 1 number Length more than 5\" });\n        }\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n        this.setState({ \"error\": \"\" });\n    }\n\n    handleChangePhone(e) {\n        const re = /^[0][0-9\\b]*$/;\n        const { name, value } = e.target;\n        if (value === '' || re.test(value)) {\n            this.setState({ [name]: value });\n        }\n    }\n\n    render(){\n        return (\n            <div className=\"bg-div\">\n                <h1 className=\"centered\">Welcome to our hotel</h1>\n            </div>\n        )\n    }\n}\nexport default RegisComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module"}