{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/nornmai_resort_fe/src/components/LoginComponent.js\";\nimport { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginComponent extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.state = {\n      \"email\": \"\",\n      \"password\": \"\",\n      \"error\": \"\"\n    };\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.loginStorage = JSON.parse(localStorage.getItem('login'));\n    this.loginAdminStorage = JSON.parse(localStorage.getItem('login-admin'));\n    if (this.loginStorage != null || this.loginAdminStorage != null) window.location.href = \"/\";\n  }\n\n  login(e) {\n    e.preventDefault();\n    let raw = JSON.stringify({\n      \"password\": this.state.password,\n      \"email\": this.state.email\n    });\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: raw\n    };\n    fetch('http://localhost:3001/login', requestOptions).then(response => response.json()).then(data => {\n      localStorage.setItem('login', JSON.stringify(data));\n      window.location.href = \"/room\";\n    }).catch(error => {\n      console.error('There was an error!', error);\n      alert('ไม่พบข้อมูล กรุณาตรวจสอบ email และ password');\n    });\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n    this.setState({\n      \"error\": \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"form-margin\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-topic\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"LOGIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.login,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  className: \"control-label\",\n                  children: \"Email *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  value: this.state.email,\n                  onChange: this.handleChange,\n                  className: \"form-control\",\n                  placeholder: \"Your Email *\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"password\",\n                  className: \"control-label\",\n                  children: \"Password *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  name: \"password\",\n                  value: this.state.password,\n                  onChange: this.handleChange,\n                  className: \"form-control\",\n                  placeholder: \"Your Password *\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              style: {\n                'textAlign': 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  'color': 'red'\n                },\n                children: this.state.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"New User? \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/register\",\n                children: \"Sign up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"names":["Component","LoginComponent","constructor","state","login","bind","handleChange","componentDidMount","loginStorage","JSON","parse","localStorage","getItem","loginAdminStorage","window","location","href","e","preventDefault","raw","stringify","password","email","requestOptions","method","headers","body","fetch","then","response","json","data","setItem","catch","error","console","alert","name","value","target","setState","render"],"sources":["/Users/macbookpro/nornmai_resort_fe/src/components/LoginComponent.js"],"sourcesContent":["import { Component } from \"react\"\n\nclass LoginComponent extends Component {\n    state = {}\n\n    constructor() {\n        super();\n        this.state = {\n            \"email\": \"\",\n            \"password\": \"\",\n            \"error\": \"\"\n        }\n\n        this.login = this.login.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.loginStorage = JSON.parse(localStorage.getItem('login'));\n        this.loginAdminStorage = JSON.parse(localStorage.getItem('login-admin'));\n        if (this.loginStorage != null || this.loginAdminStorage != null)\n            window.location.href = \"/\";\n    }\n\n    login(e) {\n        e.preventDefault();\n        let raw = JSON.stringify({\n            \"password\": this.state.password,\n            \"email\": this.state.email,\n        });\n\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: raw\n        };\n\n        fetch('http://localhost:3001/login', requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                localStorage.setItem('login', JSON.stringify(data));\n                window.location.href = \"/room\";\n            })\n            .catch(error => {\n                console.error('There was an error!', error);\n                alert('ไม่พบข้อมูล กรุณาตรวจสอบ email และ password');\n            });\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n        this.setState({ \"error\": \"\" });\n    }\n\n    render() {\n        return (\n            <div className=\"bg-div\">\n                <div id=\"form-margin\">\n                    <div className=\"header-topic\">\n                        <span>LOGIN</span>\n                        <hr />\n                    </div>\n                    <form onSubmit={this.login}>\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email\" className=\"control-label\">Email *</label>\n                                    <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} className=\"form-control\" placeholder=\"Your Email *\" required />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"password\" className=\"control-label\">Password *</label>\n                                    <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} className=\"form-control\" placeholder=\"Your Password *\" required />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"form-group\" style={{ 'textAlign': 'center' }}>\n                                <span style={{ 'color': 'red' }}>{this.state.error}</span>\n                                <br />\n                                <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n                                <br />\n                            </div>\n                        </div>\n\n                        <div className=\"row\">\n                            <span>New User? <a href=\"/register\">Sign up</a></span>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default LoginComponent"],"mappings":"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"},"metadata":{},"sourceType":"module"}